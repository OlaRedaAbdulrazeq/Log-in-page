<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>log in</title>
    <!-- <link rel="stylesheet" href="./src/output.css"> -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="box-border pt-10  h-screen ">
    <div id="alert-container" class="position-absolute start-50 translate-middle-x top-0 p-3"  style="z-index: 1050;"></div>
    <div class="text-center w-3/4 mx-auto  my-11 px-3  py-14 flex flex-col items-center gap-y-7 shadow-lg  tracking-wide">
            <header class="text-[2rem] max-[774px]:text-[1.8rem] max-[425px]:text-[1.5rem]   ">
                Log in to your account
            </header>
            <p>Don't have an account? <a class="cursor-pointer text-lg max-[774px]:text-md max-[360px]:text-sm text-[#3EB489] hover:text-[#20614b]" href="./register.html" target="_blank">Register</a></p>
             <form id="loginform" class="w-full flex flex-col items-center gap-y-7" >
                        <input id="email" type="email" class="w-3/4 p-3 border-b-2 outline-none " placeholder="enter your email"  autofocus required >
                        
                        <input id="password" type="password"  class="w-3/4 p-3 border-b-2 outline-none" placeholder="enter your password" required >
                        <button type="submit"  class="bg-[#3EB489] hover:bg-[#20614b] mt-9 px-9 max-[457px]:px-1 py-2 w-[35%] rounded-lg text-white text-center cursor-pointer" >login</button>
            </form>
   
        </div>
    <script src="./src/main.js"></script>  
    <script >

            document.getElementById("loginform").addEventListener("submit",(event)=>{
                event.preventDefault();
                var email = document.getElementById("email").value;
                var password = document.getElementById("password").value ;
                const users =JSON.parse( localStorage.getItem("users")) || [];
                const checkuser=users.find( (user)=>user.email===email && user.password===password);

                if(checkuser){
                localStorage.setItem("loggedinUser" ,JSON.stringify(checkuser));
                showAlert(`successful login , welcome ${checkuser.fname} ${checkuser.lname}`,'success');
                setTimeout(function() {
                    window.location.href='./profile.html';}, 1500);
                }
                else {
                    showAlert("user not found , try again",'danger');
                }
            });
                window.onload = function () {
                history.pushState(null, null, location.href);
                window.onpopstate = function () {
                history.pushState(null, null, location.href);
                };
                document.getElementById("loginform").reset();
            };
            
    </script>
</body>
</html>